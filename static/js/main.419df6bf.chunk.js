(this["webpackJsonpanimals-social-netwoork"]=this["webpackJsonpanimals-social-netwoork"]||[]).push([[0],{30:function(e,n,t){},31:function(e,n,t){"use strict";t.r(n);var c=t(12),s=t.n(c),i=t(6),r=t(13),a=t(17),d=t(10),o=t(3),l="[FRIENDS] FETCH_PENDING",u="[FRIENDS] FETCH_SUCCESS",j="[FRIENDS] FETCH_FAILURE",b=function(){return{type:l}},O={pendingFr:!0,friends:[],errorFr:null,userId:null},f="[USER] FETCH_PENDING",p="[USER] FETCH_SUCCESS",h="[USER] FETCH_FAILURE",v={pending:!0,user:[],error:null,usersChain:[]},m="[USERS] FETCH_PENDING",x="[USERS] FETCH_SUCCESS",g="[USERS] FETCH_FAILURE",y={pending:!0,users:[],error:null},N=[a.a],E=Object(r.b)({users:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},n),{},{pending:!0});case x:var c,s=t.payload;if(null!==(e=n.users)&&void 0!==e&&e.list)s={pagination:t.payload,list:[].concat(Object(d.a)(null===(c=n.users)||void 0===c?void 0:c.list),Object(d.a)(t.payload.list))};else s=t.payload;return Object(o.a)(Object(o.a)({},n),{},{pending:!1,users:s});case g:return Object(o.a)(Object(o.a)({},n),{},{pending:!1,error:t.payload});default:return n}},user:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case f:return Object(o.a)(Object(o.a)({},t),{},{pending:!0});case p:var s=t.usersChain,i=c.payload,r=[i.prefix,i.name,i.lastName].join(" ");return(null===(e=t.usersChain)||void 0===e||null===(n=e.at(-1))||void 0===n?void 0:n.name)!==r&&s.push({name:r,id:c.payload.id}),Object(o.a)(Object(o.a)({},t),{},{pending:!1,user:c.payload,usersChain:s});case h:return Object(o.a)(Object(o.a)({},t),{},{pending:!1,error:c.payload});default:return t}},userFriends:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},n),{},{pending:!0});case u:var c,s=t.payload;if(n.userId!==t.userId&&(n.friends=[]),null!==(e=n.friends)&&void 0!==e&&e.list)s={pagination:t.payload,list:[].concat(Object(d.a)(null===(c=n.friends)||void 0===c?void 0:c.list),Object(d.a)(t.payload.list))};else s=t.payload;return Object(o.a)(Object(o.a)({},n),{},{pending:!1,friends:s,userId:t.userId});case j:return Object(o.a)(Object(o.a)({},n),{},{pending:!1,error:t.payload});default:return n}}}),C=Object(r.c)(E,r.a.apply(void 0,N)),S=t(0),w=t(8),I=t(2),F=t(7),T="//sweeftdigital-intern.eu-central-1.elasticbeanstalk.com",H=function(e){return function(n){n({type:m}),fetch("".concat(T,"/user/").concat(e,"/").concat(20)).then((function(e){return e.json()})).then((function(e){n({type:x,payload:e})})).catch((function(e){n(function(e){return{type:g,payload:e}}(e))}))}},U=function(e){return e.users},R=function(e){return e.users.users.list},_=function(e){return e.users.users.pagination},A=t(1),P=function(e){var n=e.error;return Object(A.jsx)("div",{className:"ui negative message",children:Object(A.jsx)("div",{className:"header",children:n})})},D=t.p+"static/media/Spinner_Loading.b767aab4.svg",k=function(){return Object(A.jsx)("div",{children:Object(A.jsx)("img",{src:D,alt:"preloader"})})},J=function(e){var n=e.user,t="".concat(n.imageUrl,"/").concat(n.id);return Object(A.jsx)("div",{className:"four wide column",children:Object(A.jsx)(w.b,{to:"/user/".concat(n.id),children:Object(A.jsxs)("div",{className:"ui card",children:[Object(A.jsx)("img",{src:t,alt:n.title}),Object(A.jsxs)("div",{className:"content",children:[Object(A.jsxs)("p",{className:"header",children:[n.prefix," ",n.name," ",n.lastName]}),Object(A.jsx)("div",{className:"meta",children:Object(A.jsx)("p",{children:n.title})})]})]})})})},L=function(e){var n=e.users,t=null===n||void 0===n?void 0:n.map((function(e){return Object(A.jsx)(J,{user:e},e.id)}));return Object(A.jsx)("div",{className:"ui grid",children:t})},G=function(){var e,n=Object(S.useState)(1),t=Object(F.a)(n,2),c=t[0],s=t[1],r=Object(i.b)(),a=Object(i.c)(U),d=a.pending,o=a.error,l=Object(i.c)(R),u=Object(i.c)(_),j=(null===u||void 0===u?void 0:u.nextPage)||(null===u||void 0===u||null===(e=u.pagination)||void 0===e?void 0:e.nextPage);Object(S.useEffect)((function(){r(H(c))}),[r,c]);return setTimeout((function(){window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop>=Math.max(document.body.scrollHeight,document.documentElement.offsetHeight)&&j&&s(c+1)}}),500),o?Object(A.jsx)(P,{error:o}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(L,{users:l}),d&&Object(A.jsx)(k,{})]})},M=function(e){var n=e.company,t=e.address;return Object(A.jsx)("div",{className:"four wide column",children:Object(A.jsxs)("fieldset",{children:[Object(A.jsx)("legend",{children:"Address"}),Object(A.jsxs)("div",{className:"header",children:[null===n||void 0===n?void 0:n.name," ",null===n||void 0===n?void 0:n.suffix]}),Object(A.jsxs)("div",{className:"additional-info",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"City:"})," ",null===t||void 0===t?void 0:t.city]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Country:"})," ",null===t||void 0===t?void 0:t.country]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"State:"})," ",null===t||void 0===t?void 0:t.state]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Street:"})," ",null===t||void 0===t?void 0:t.streetAddress]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"ZIP:"})," ",null===t||void 0===t?void 0:t.zipCode]})]})]})})},z=function(e){var n=e.user;return Object(A.jsx)("div",{className:"personal-info eight wide column",children:Object(A.jsxs)("fieldset",{children:[Object(A.jsx)("legend",{children:"Info"}),Object(A.jsxs)("div",{className:"header",children:[n.prefix," ",n.name," ",n.lastName]}),Object(A.jsx)("i",{children:n.title}),Object(A.jsxs)("div",{className:"additional-info",children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Email:"})," ",n.email]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Ip Address:"})," ",n.ip]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Job Area:"})," ",n.jobArea]}),Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{className:"info-type",children:"Job Type:"})," ",n.jobType]})]})]})})},B=function(e){var n=e.usersChain,t=null===n||void 0===n?void 0:n.map((function(e,n){return Object(A.jsxs)("span",{children:[n>0&&">",Object(A.jsx)(w.b,{to:"/user/".concat(e.id),children:e.name})]},n)}));return Object(A.jsx)("div",{className:"users-chain",children:t})},Z=function(e){var n=e.user,t=e.friends,c=e.usersChain,s=e.userId;return Object(A.jsxs)("div",{className:"ui grid",children:[Object(A.jsx)("img",{className:"four wide column image",src:"".concat(n.imageUrl,"?v=").concat(s),alt:n.title}),Object(A.jsx)(z,{user:n}),Object(A.jsx)(M,{company:n.company,address:n.address}),Object(A.jsx)(B,{usersChain:c}),Object(A.jsxs)("div",{className:"friends-list",children:[Object(A.jsx)("h2",{children:"Friends:"}),Object(A.jsx)(L,{users:t})]})]})},q=function(e){return function(n){n({type:f}),fetch("".concat(T,"/user/").concat(e)).then((function(e){return e.json()})).then((function(e){n({type:p,payload:e})})).catch((function(e){n(function(e){return{type:h,payload:e}}(e))}))}},K=function(e,n){return function(t){t(b),fetch("".concat(T,"/user/").concat(e,"/friends/").concat(n,"/").concat(20)).then((function(e){return e.json()})).then((function(n){t(function(e,n){return{type:u,payload:e,userId:n}}(n,e))})).catch((function(e){t(function(e){return{type:j,payload:e}}(e))}))}},Q=function(e){return e.userFriends.friends.list},V=function(e){return e.userFriends.friends.pagination},W=function(e){return e.user},X=function(e){return e.user.usersChain},Y=function(){var e,n=Object(S.useState)(1),t=Object(F.a)(n,2),c=t[0],s=t[1],r=Object(i.b)(),a=Object(I.e)(),d=Object(I.g)().userId,o=Object(i.c)(W),l=o.pending,u=o.user,j=o.error,b=Object(i.c)(X),O=Object(i.c)(Q),f=Object(i.c)(V),p=(null===f||void 0===f?void 0:f.nextPage)||(null===f||void 0===f||null===(e=f.pagination)||void 0===e?void 0:e.nextPage);Object(S.useEffect)((function(){window.scrollTo(0,0)}),[a]),Object(S.useEffect)((function(){r(q(d)),r(K(d,c))}),[r,d,c]),Object(S.useEffect)((function(){s(1)}),[d]);return setTimeout((function(){window.onscroll=function(){window.innerHeight+document.documentElement.scrollTop>=Math.max(document.body.scrollHeight,document.documentElement.offsetHeight)&&p&&s(c+1)}}),500),j?Object(A.jsx)(P,{error:j}):Object(A.jsxs)("div",{className:"user-wrapper",children:[Object(A.jsx)(Z,{user:u,friends:O,usersChain:b,userId:d}),l&&Object(A.jsx)(k,{})]})},$=(t(29),t(30),function(){return Object(A.jsx)("div",{className:"ui container wrapper",children:Object(A.jsx)(w.a,{children:Object(A.jsxs)(I.c,{children:[Object(A.jsx)(I.a,{path:"/",exact:!0,element:Object(A.jsx)(G,{})}),Object(A.jsx)(I.a,{path:"/user/:userId",element:Object(A.jsx)(Y,{})})]})})})});s.a.render(Object(A.jsx)(i.a,{store:C,children:Object(A.jsx)($,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.419df6bf.chunk.js.map